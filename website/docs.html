<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Documentation - Nice</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Inter:wght@400;500;600&family=Fira+Code&display=block" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0f0f0f;
      color: #f5f5f5;
      min-height: 100vh;
      padding: 2rem;
      line-height: 1.6;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    header {
      margin-bottom: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      font-family: 'Bungee', cursive;
      font-size: 2rem;
      color: #fbbf24;
      text-decoration: none;
    }
    .btn-create {
      font-family: 'Bungee', cursive;
      font-size: 0.875rem;
      background: #fbbf24;
      color: #000;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      text-decoration: none;
    }
    .btn-create:hover {
      background: #f59e0b;
    }
    h1 {
      font-family: 'Bungee', cursive;
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: #fff;
    }
    h2 {
      font-family: 'Bungee', cursive;
      font-size: 1.25rem;
      color: #fbbf24;
      margin: 2rem 0 1rem;
      padding-top: 1rem;
      border-top: 1px solid #333;
    }
    h3 {
      font-size: 1rem;
      color: #fff;
      margin: 1.5rem 0 0.5rem;
    }
    .subtitle {
      color: #888;
      margin-bottom: 2rem;
    }
    p {
      color: #aaa;
      margin-bottom: 1rem;
    }
    code {
      font-family: 'Fira Code', monospace;
      background: #1a1a1a;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.875rem;
      color: #fbbf24;
    }
    pre {
      background: #0a0a0a;
      border-radius: 8px;
      padding: 1rem;
      overflow-x: auto;
      margin: 1rem 0;
      border: 1px solid #222;
    }
    pre code {
      background: none;
      padding: 0;
      font-size: 0.8rem;
      color: #ddd;
    }
    .endpoint {
      background: #1a1a1a;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      border: 1px solid #333;
    }
    .method {
      font-family: 'Fira Code', monospace;
      font-weight: bold;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-right: 0.5rem;
    }
    .method.post { background: #22c55e; color: #000; }
    .method.get { background: #3b82f6; color: #fff; }
    .method.delete { background: #ef4444; color: #fff; }
    .path {
      font-family: 'Fira Code', monospace;
      color: #fff;
    }
    .param {
      color: #fbbf24;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.875rem;
    }
    th, td {
      text-align: left;
      padding: 0.75rem;
      border-bottom: 1px solid #333;
    }
    th {
      color: #888;
      font-weight: normal;
      font-size: 0.75rem;
      text-transform: uppercase;
    }
    td code {
      font-size: 0.8rem;
    }
    .note {
      background: #1a1a0a;
      border-left: 3px solid #fbbf24;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 0 8px 8px 0;
    }
    .note p { margin: 0; color: #ccc; }
    .toc {
      background: #1a1a1a;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 2rem;
    }
    .toc-title {
      font-family: 'Bungee', cursive;
      font-size: 0.75rem;
      color: #666;
      margin-bottom: 0.5rem;
    }
    .toc a {
      color: #aaa;
      text-decoration: none;
      display: block;
      padding: 0.25rem 0;
      font-size: 0.875rem;
    }
    .toc a:hover { color: #fbbf24; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <a href="/" class="logo">NICE</a>
      <a href="/create.html" class="btn-create">Create Button</a>
    </header>
    
    <h1>API DOCUMENTATION</h1>
    <p class="subtitle">Base URL: <code>https://api.nice.sbs</code></p>
    
    <div class="toc">
      <div class="toc-title">Contents</div>
      <a href="#quickstart">Quick Start</a>
      <a href="#create">Create Button</a>
      <a href="#stats">Get Stats</a>
      <a href="#delete">Delete Button</a>
      <a href="#nice">Record Nice</a>
      <a href="#count">Get Count</a>
      <a href="#embed">Embed Options</a>
    </div>
    
    <h2 id="quickstart">Quick Start</h2>
    <p>Create a button with a single API call — no signup required:</p>
    <pre><code>curl -X POST https://api.nice.sbs/api/v2/buttons \
  -H "Content-Type: application/json" \
  -d '{"url": "https://example.com/my-article"}'</code></pre>
    
    <p>Response:</p>
    <pre><code>{
  "public_id": "n_x7Kf9mQ2",
  "private_id": "ns_4vK9mPq8wL2nRt5xYz7bC",
  "url": "https://example.com/my-article",
  "embed": {
    "iframe": "&lt;iframe src=\"...\" ...&gt;&lt;/iframe&gt;"
  }
}</code></pre>
    
    <div class="note">
      <p>⚠️ <strong>Save your private_id!</strong> It's only shown once and is needed to manage your button.</p>
    </div>
    
    <h2 id="create">Create Button</h2>
    
    <div class="endpoint">
      <span class="method post">POST</span>
      <span class="path">/api/v2/buttons</span>
    </div>
    
    <p>Create a new Nice button.</p>
    
    <h3>Request Body</h3>
    <table>
      <tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
      <tr><td><code>url</code></td><td>string</td><td>Yes</td><td>Content URL where the button will be embedded</td></tr>
      <tr><td><code>theme</code></td><td>string</td><td>No</td><td>Button theme: <code>light</code> (default), <code>dark</code>, <code>minimal</code>, <code>mono-dark</code>, <code>mono-light</code></td></tr>
      <tr><td><code>size</code></td><td>string</td><td>No</td><td>Button size: <code>xs</code>, <code>sm</code>, <code>md</code> (default), <code>lg</code>, <code>xl</code></td></tr>
    </table>
    
    <h3>Response</h3>
    <pre><code>{
  "public_id": "n_x7Kf9mQ2Ab3Z",
  "private_id": "ns_4vK9mPq8wL2nRt5xYz7bC",
  "url": "https://example.com/my-article",
  "theme": "light",
  "size": "md",
  "count": 0,
  "created_at": "2026-02-18T10:00:00Z",
  "embed": {
    "iframe": "&lt;iframe src=\"https://api.nice.sbs/e/n_x7Kf9mQ2Ab3Z?theme=light&size=md\" style=\"border:none;width:100px;height:36px;\" title=\"Nice button\"&gt;&lt;/iframe&gt;",
    "script": "&lt;script src=\"https://api.nice.sbs/embed.js\" data-button=\"n_x7Kf9mQ2Ab3Z\" data-theme=\"light\" data-size=\"md\" async&gt;&lt;/script&gt;"
  }
}</code></pre>
    
    <h2 id="stats">Get Stats</h2>
    
    <div class="endpoint">
      <span class="method get">GET</span>
      <span class="path">/api/v2/buttons/stats/<span class="param">:private_id</span></span>
    </div>
    
    <p>Get button statistics. Requires the private ID.</p>
    
    <h3>Response</h3>
    <pre><code>{
  "id": "n_x7Kf9mQ2Ab3Z",
  "url": "https://example.com/my-article",
  "count": 42,
  "theme": "light",
  "size": "md",
  "created_at": "2026-02-18T10:00:00Z",
  "embed": { ... }
}</code></pre>
    
    <h2 id="delete">Delete Button</h2>
    
    <div class="endpoint">
      <span class="method delete">DELETE</span>
      <span class="path">/api/v2/buttons/<span class="param">:private_id</span></span>
    </div>
    
    <p>Delete a button. Requires the private ID. This action cannot be undone.</p>
    
    <h3>Response</h3>
    <pre><code>{
  "success": true,
  "message": "Button deleted"
}</code></pre>
    
    <h2 id="nice-auth">Record Nice (Authenticated)</h2>
    
    <div class="endpoint">
      <span class="method post">POST</span>
      <span class="path">/api/v2/buttons/<span class="param">:private_id</span>/nice</span>
    </div>
    
    <p>Record a "nice" using the private ID. <strong>Owner only</strong> — no restrictions.</p>
    
    <p>Unlike the public endpoint: no referrer check, no IP deduplication, no rate limiting.</p>
    
    <h3>Response</h3>
    <pre><code>{
  "success": true,
  "count": 43,
  "public_id": "n_x7Kf9mQ2Ab3Z"
}</code></pre>
    
    <h2 id="nice">Record Nice (Public)</h2>
    
    <div class="endpoint">
      <span class="method post">POST</span>
      <span class="path">/api/v1/nice/<span class="param">:public_id</span></span>
    </div>
    
    <p>Record a "nice" on a button. Public endpoint, no auth required.</p>
    
    <h3>Response</h3>
    <pre><code>{
  "success": true,
  "count": 43
}</code></pre>
    
    <p>If already niced (deduplicated by IP per day):</p>
    <pre><code>{
  "success": false,
  "reason": "already_niced",
  "count": 43
}</code></pre>
    
    <h2 id="count">Get Count</h2>
    
    <div class="endpoint">
      <span class="method get">GET</span>
      <span class="path">/api/v1/nice/<span class="param">:public_id</span>/count</span>
    </div>
    
    <p>Get the current nice count. Public endpoint.</p>
    
    <h3>Response</h3>
    <pre><code>{
  "count": 43,
  "button_id": "n_x7Kf9mQ2"
}</code></pre>
    
    <h2 id="embed">Embed Options</h2>
    
    <h3>iframe (Recommended)</h3>
    <pre><code>&lt;iframe 
  src="https://api.nice.sbs/e/<span class="param">:public_id</span>?theme=light&size=md"
  style="border:none;width:100px;height:36px;"
  title="Nice button"&gt;
&lt;/iframe&gt;</code></pre>
    
    <h3>Themes</h3>
    <table>
      <tr><th>Theme</th><th>Description</th></tr>
      <tr><td><code>light</code></td><td>Light gray background (default)</td></tr>
      <tr><td><code>dark</code></td><td>Dark gray background</td></tr>
      <tr><td><code>minimal</code></td><td>Transparent with border</td></tr>
      <tr><td><code>mono-dark</code></td><td>Black background, inverts when clicked</td></tr>
      <tr><td><code>mono-light</code></td><td>White background, inverts when clicked</td></tr>
    </table>
    
    <h3>Sizes</h3>
    <table>
      <tr><th>Size</th><th>Dimensions</th></tr>
      <tr><td><code>xs</code></td><td>70 × 28px</td></tr>
      <tr><td><code>sm</code></td><td>85 × 32px</td></tr>
      <tr><td><code>md</code></td><td>100 × 36px (default)</td></tr>
      <tr><td><code>lg</code></td><td>120 × 44px</td></tr>
      <tr><td><code>xl</code></td><td>140 × 52px</td></tr>
    </table>
    
    <h3>Error Codes</h3>
    <table>
      <tr><th>Code</th><th>HTTP</th><th>Description</th></tr>
      <tr><td><code>INVALID_JSON</code></td><td>400</td><td>Request body is not valid JSON</td></tr>
      <tr><td><code>MISSING_URL</code></td><td>400</td><td>URL field is required</td></tr>
      <tr><td><code>INVALID_URL</code></td><td>400</td><td>URL format is invalid</td></tr>
      <tr><td><code>INVALID_THEME</code></td><td>400</td><td>Invalid theme value</td></tr>
      <tr><td><code>INVALID_SIZE</code></td><td>400</td><td>Invalid size value</td></tr>
      <tr><td><code>NOT_FOUND</code></td><td>404</td><td>Button not found</td></tr>
      <tr><td><code>REFERRER_DENIED</code></td><td>403</td><td>Nice not allowed from this referrer</td></tr>
      <tr><td><code>IP_LIMIT</code></td><td>429</td><td>Rate limit exceeded</td></tr>
    </table>
    
  </div>
</body>
</html>
